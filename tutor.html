<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Probability and Stats Tutor</title>
		<link rel="stylesheet" href="css/style_sheet.css" />
		<link rel="stylesheet" href="css/session-styles.css" />
	</head>
	<body>
		<div class="tutor-container">
			<div class="tutor-header">
				<h1>Probability and Stats Tutor</h1>
				<p>Your friendly guide to probability and statistics!</p>
				<button class="close-button" onclick="window.close()">✕ Close</button>
			</div>
			<div class="main-content">
				<div class="chat-section">
					<div class="chat-container">
						<div class="chat-messages" id="chatMessages"></div>
						<div class="chat-input-container">
							<input type="file" id="fileInput" accept=".pdf,.png,.jpg,.jpeg,.gif,.bmp,.tiff,.webp" multiple style="display: none;">
							<input type="text" id="chatInput" placeholder="Ask me anything about probability!" />
							<button id="uploadButton" class="upload-btn" title="Upload Files">📎</button>
							<button id="sendButton">Send</button>
						</div>
						<div id="filePreview" class="file-preview"></div>
					</div>
				</div>
				<div class="whiteboard-section">
					<div class="whiteboard-tabs">
						<button class="tab-button active" id="teacherTab" onclick="switchWhiteboard('teacher')">
							🎓 Teacher Board
						</button>
						<button class="tab-button" id="studentTab" onclick="switchWhiteboard('student')">✏️ Student Board</button>
						<button class="tab-button" id="notesTab" onclick="switchWhiteboard('notes')">📝 Notes</button>
					</div>
					<div class="whiteboard-container">
						<!-- Teacher Whiteboard -->
						<div class="whiteboard-panel active" id="teacherPanel">
							<div class="whiteboard-header">
								<h3>Teacher Whiteboard</h3>
								<div class="whiteboard-controls">
									<button id="clearTeacherButton">Clear</button>
									<button id="drawTeacherButton">Draw</button>
									<button id="expandTeacherButton">Expand</button>
								</div>
							</div>
							<canvas id="teacherWhiteboard" class="whiteboard-canvas"></canvas>
						</div>

						<!-- Student Whiteboard -->
						<div class="whiteboard-panel" id="studentPanel">
							<div class="whiteboard-header">
								<h3>Student Whiteboard</h3>
								<div class="whiteboard-controls">
									<button id="clearStudentButton">Clear</button>
									<button id="drawStudentButton">Draw</button>
									<button id="expandStudentButton">Expand</button>
								</div>
							</div>
							<canvas id="studentWhiteboard" class="whiteboard-canvas"></canvas>
						</div>

						<div class="whiteboard-panel" id="notesPanel">
							<div class="whiteboard-header">
								<h3>Student Notes</h3>
								<div class="whiteboard-controls">
									<div class="notebook-mode-toggle">
										<button class="mode-btn active" id="writeModeBtn">Write</button>
										<button class="mode-btn" id="drawModeBtn">Draw</button>
									</div>
									<button id="clearNotesButton">Clear</button>
									<button id="saveNotesButton">Save</button>
									<button id="expandNotesButton">Expand</button>
								</div>
							</div>
							<div class="notebook-container">
								<div class="notebook-paper">
									<textarea
										id="studentNotes"
										placeholder="Take your notes here... You can switch to draw mode to sketch diagrams and formulas!"
									></textarea>
									<canvas id="notesCanvas" class="notes-canvas"></canvas>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="loading-indicator" id="loadingIndicator" style="display: none">
				<div class="spinner"></div>
				<span>Tutor is thinking...</span>
			</div>
		</div>

		<script src="javascript/diagram-renderer.js"></script>
		<script src="javascript/tutor-chat.js"></script>
		<script src="javascript/tutor-whiteboard.js"></script>
		<script src="javascript/student-notes.js"></script>
		<script src="javascript/voice-integration.js"></script>
		<script src="javascript/session-manager.js"></script>
	</body>
</html>